A Filipino soldier carried a captured ISIS flag Friday in Marawi, which has been under siege by militants since Tuesday.

ILIGAN, Philippines — President Rodrigo Duterte of the Philippines ordered his troops to crush militants who are fighting street battles with government forces in the south, warning Friday that the country is at a grave risk of ‘‘contamination’’ by the Islamic State.

The city of Marawi, home to some 200,000 people, has been under siege by ISIS-linked militants since a government raid Tuesday night on a suspected hideout of Isnilon Hapilon, who is on Washington’s list of most-wanted terrorists.

The raid went awry and gunmen swept through the streets, fending off government forces and taking over large parts of the city. Duterte imposed martial law on the southern third of the nation earlier this week as the battles continued.

Advertisement

At least 44 people have died in the fighting, including 31 militants and 11 soldiers, officials say. It was not immediately clear whether civilians were among the dead. The violence has forced thousands of people to flee and raised fears of growing extremism.

Get Today's Headlines in your inbox: The day's top stories delivered every morning. Sign Up Thank you for signing up! Sign up for more newsletters here

Duterte told soldiers in Iligan, a city near Marawi, that he had long feared that ‘‘contamination by ISIS’’ loomed in the country’s future, using the acronym for the Islamic State.

‘‘You can say that ISIS is here already,’’ he said.

He gave his troops a free hand to wrest control of Marawi.

‘‘You can arrest any person, search any house without warrant,’’ said Duterte, who has allowed extrajudicial killings of thousands of people in his crackdown on illegal drugs.

Advertisement

Still, he offered dialogue to militants who are not on the streets fighting.

‘‘We can still talk about it,’’ Duterte said. ‘‘But those who are out-and-out terrorists, and you cannot be convinced to stop fighting, so be it. Let us fight.’’

Hapilon is hiding out in the city under the protection of gunmen who are desperately trying to find a way to ‘‘extricate’’ him, the country’s military chief said.

‘‘Right now, he is still inside [the city],’’ General Eduardo Ano said. ‘‘We cannot just pinpoint the particular spot.’’

He said Hapilon suffered a stroke after a government airstrike wounded him in January.

Advertisement

Ano predicted that the military operation will take about a week as soldiers go house to house to clear the city of militants.

‘‘We will make this their cemetery,’’ he said. ‘‘We have to finish this.’’

In a sign that the longstanding problem of militancy in the south could be expanding, Solicitor General Jose Calida said foreigners were fighting alongside the gunmen in Marawi, including Indonesians and Malaysians.

Ano also said foreign fighters were believed to be inside, but he was more cautious. ‘‘We suspect that but we’re still validating,’’ he said.

With much of Marawi a no-go zone, confusion reigned. One local police chief said on Friday that he was fine — two days after Duterte announced he had been beheaded by militants.

Police Chief Romeo Enriquez said there may have been confusion because his predecessor in Malabang, a town near Marawi, was killed in the fighting on Tuesday, although he was not beheaded.

Enriquez has been in the job for about two months.

Witnesses say gunmen were flying black flags of the Islamic State. Authorities were working to determine the condition of a Catholic priest and worshipers who were taken hostage by gunmen earlier this week.

Hapilon, an Islamic preacher, is a commander of the Abu Sayyaf militant group who pledged allegiance to the Islamic State group in 2014.