Foreigners are among Islamist gunmen battling security forces in a southern Philippine city, the government said Friday as the reported death toll from four days of clashes climbed to 46

Foreigners are among Islamist gunmen battling security forces in a southern Philippine city, the government said Friday as the reported death toll from four days of clashes climbed to 46.

President Rodrigo Duterte imposed martial law across the southern region of Mindanao on Tuesday, hours after gunmen loyal to the Islamic State group rampaged through Marawi city in response to a raid on one of their safe houses.

"What is happening in Mindanao is no longer a rebellion of Filipino citizens. It has transmogrified into an invasion by foreign fighters," Solicitor General Jose Calida, the government's chief lawyer, told reporters in the southern city of Davao.

He said Malaysians, Indonesians, Singaporeans and "other foreign jihadists" were fighting in Marawi, one of the biggest Muslim cities in the mainly Catholic Philippines with about 200,000 residents.

Philippine military spokesman Brigadier-General Restituto Padilla said six foreign fighters are believed to have been killed in the Marawi fighting, including Malaysians, Indonesians and another nationality which he did not specify.

Calida said these foreign fighters had heeded a "clarion call" of IS to travel to Mindanao to put up a "wilayat" or IS province, if they could not go to fight in Iraq or Syria.

Padilla said 11 soldiers, two policemen and 31 militants had been confirmed killed in the fighting, which has involved the military bombing buildings where the militants have been hiding.

Two civilians were also killed inside a hospital that the gunmen had occupied on Tuesday, and the military was investigating reports that nine people had been murdered at a checkpoint the militants had set up, authorities said.

The fighting erupted on Tuesday after security forces raided a house where they believed Isnilon Hapilon, a leader of the infamous Abu Sayyaf kidnap-for-ransom gang and Philippine head of IS, was hiding.

The United States regards Hapilon as one of the world's most dangerous terrorists, offering a bounty of $5 million for his capture.

The raid went spectacularly wrong as dozens of gunmen emerged to repel the security forces, then went on a rampage across the city while flying black IS flags.

Authorities said ending the crisis was proving extremely hard because the militants were moving nimbly through homes, had planted bombs in the streets, and were holding hostages.

They said militants had also occupied higher ground in the city, enabling them to slow down or stop assaults from the security forces.